[gd_scene load_steps=10 format=3 uid="uid://bg6bom6mu10j0"]

[ext_resource type="Script" path="res://sentinel.gd" id="1_t4o3x"]
[ext_resource type="PackedScene" uid="uid://ck3b62uwq0tpg" path="res://Effects/muzzle.tscn" id="2_bdq1w"]
[ext_resource type="PackedScene" uid="uid://bf31r85qbqf44" path="res://Villager.fbx" id="2_nvf84"]

[sub_resource type="BoxShape3D" id="BoxShape3D_cw11s"]
size = Vector3(1, 2, 1)

[sub_resource type="SphereShape3D" id="SphereShape3D_xbwid"]
radius = 10.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_cvd1a"]
albedo_color = Color(0.254434, 0.283068, 0.331647, 1)
metallic = 0.5
roughness = 0.2

[sub_resource type="CylinderMesh" id="CylinderMesh_kjyka"]
material = SubResource("StandardMaterial3D_cvd1a")
top_radius = 0.02
bottom_radius = 0.02
height = 0.9

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_kducn"]
albedo_color = Color(0.353664, 0.242918, 0.156805, 1)
roughness = 0.7

[sub_resource type="BoxMesh" id="BoxMesh_milog"]
material = SubResource("StandardMaterial3D_kducn")
size = Vector3(0.04, 0.5, 0.1)

[node name="Sentinel" type="Node3D"]
script = ExtResource("1_t4o3x")
muzzle_scene = ExtResource("2_bdq1w")

[node name="MuzzlePosition" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.137657, 1.42593, -1.28826)

[node name="Timer" type="Timer" parent="."]

[node name="Sentinel" type="StaticBody3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Sentinel"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("BoxShape3D_cw11s")

[node name="AttackArea" type="Area3D" parent="."]
collision_layer = 0
collision_mask = 2

[node name="CollisionShape3D" type="CollisionShape3D" parent="AttackArea"]
shape = SubResource("SphereShape3D_xbwid")

[node name="Villager" parent="." instance=ExtResource("2_nvf84")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -0.0130303, 0, 0)

[node name="Skeleton3D" parent="Villager" index="0"]
bones/0/position = Vector3(0.00485003, 0.911954, 0.000940203)
bones/0/rotation = Quaternion(-0.110836, -0.339773, -0.0281417, 0.93353)
bones/1/rotation = Quaternion(0.0692108, -0.000935514, -0.000565826, 0.997601)
bones/2/rotation = Quaternion(0.142749, -0.000122401, -0.00660379, 0.989737)
bones/3/rotation = Quaternion(0.142753, -0.000737063, -0.00647856, 0.989737)
bones/4/rotation = Quaternion(0.00420528, 0.065208, 0.00753704, 0.997834)
bones/5/rotation = Quaternion(-0.0401353, 0.192197, 0.0901438, 0.976383)
bones/7/rotation = Quaternion(0.372079, 0.254364, -0.626541, 0.635849)
bones/8/rotation = Quaternion(0.388505, -0.254036, 0.253053, 0.848819)
bones/9/rotation = Quaternion(-0.000549343, -6.36708e-05, 0.537205, 0.843452)
bones/10/rotation = Quaternion(-0.13311, -0.827204, -0.246748, 0.486962)
bones/11/rotation = Quaternion(0.31526, -0.00823998, -0.0301113, 0.948492)
bones/12/rotation = Quaternion(0.488035, 0.0156842, -0.0721144, 0.869698)
bones/13/rotation = Quaternion(0.215112, -0.0176844, 0.108939, 0.970333)
bones/15/rotation = Quaternion(0.268258, -0.314494, 0.690416, 0.593681)
bones/16/rotation = Quaternion(0.437463, -0.171028, -0.539684, 0.698653)
bones/17/rotation = Quaternion(-0.00010421, 4.62625e-05, -0.757253, 0.653122)
bones/18/rotation = Quaternion(-0.160094, 0.388892, 0.240359, 0.874849)
bones/19/rotation = Quaternion(0.108087, 0.00143387, -0.0160214, 0.994011)
bones/20/rotation = Quaternion(0.259689, -0.00729737, 0.043241, 0.964696)
bones/21/rotation = Quaternion(0.402646, 0.0148329, -0.0834241, 0.911426)
bones/23/rotation = Quaternion(0.398878, 0.0347011, 0.900837, -0.167884)
bones/24/rotation = Quaternion(-0.204566, -0.00027205, -0.0513617, 0.977504)
bones/25/rotation = Quaternion(0.510254, -0.140515, 0.0726077, 0.845355)
bones/26/rotation = Quaternion(0.24822, -0.0983726, 0.0253466, 0.963363)
bones/28/rotation = Quaternion(0.0479322, -0.072361, 0.993274, 0.0766315)
bones/29/rotation = Quaternion(-0.262009, 0.00200971, 0.0551986, 0.963483)
bones/30/rotation = Quaternion(0.641149, 0.28597, -0.0691302, 0.708781)
bones/31/rotation = Quaternion(0.255459, 0.0749516, -0.019813, 0.963707)

[node name="AnimationPlayer" parent="Villager" index="1"]
autoplay = "mixamo_com"

[node name="MeshInstance3D" type="MeshInstance3D" parent="Villager"]
transform = Transform3D(0.999579, 0.0290186, -0.000346354, 8.74165e-08, -0.0119377, -0.999929, -0.0290207, 0.999508, -0.0119327, -0.172985, 1.42669, 0.756214)
mesh = SubResource("CylinderMesh_kjyka")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Villager/MeshInstance3D"]
transform = Transform3D(1, 2.04891e-08, 0, 0, 1, 0, -3.20142e-10, 0, 1, -0.00231113, -0.506959, 0.0501484)
mesh = SubResource("BoxMesh_milog")

[connection signal="timeout" from="Timer" to="." method="_on_timer_timeout"]
[connection signal="body_entered" from="AttackArea" to="." method="_on_attack_area_body_entered"]
[connection signal="body_exited" from="AttackArea" to="." method="_on_attack_area_body_exited"]

[editable path="Villager"]
